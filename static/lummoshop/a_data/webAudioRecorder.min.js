(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{45:function(o,n,e){"use strict";function i(o){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}var t,r,s,c,a;t=window,r=function o(){for(var n=arguments[0],e=[].slice.call(arguments,1),t=0;t<e.length;++t){var r=e[t];for(var s in r){var c=r[s];n[s]="object"===i(c)?o("object"===i(n[s])?n[s]:{},c):c}}return n},s={wav:"",ogg:"WebAudioRecorderOgg.min.js",mp3:"WebAudioRecorderMp3.min.js"},c={workerDir:"/",numChannels:2,encoding:"wav",options:{timeLimit:300,encodeAfterRecord:!1,progressInterval:1e3,bufferSize:void 0,wav:{mimeType:"audio/wav"},ogg:{mimeType:"audio/ogg",quality:.5},mp3:{mimeType:"audio/mpeg",bitRate:160}}},a=function(o,n){r(this,c,n||{}),this.context=o.context,null==this.context.createScriptProcessor&&(this.context.createScriptProcessor=this.context.createJavaScriptNode),this.input=this.context.createGain(),o.connect(this.input),this.buffer=[],this.initWorker()},r(a.prototype,{isRecording:function(){return null!=this.processor},setEncoding:function(o){this.isRecording()?this.error("setEncoding: cannot set encoding during recording"):this.encoding!==o&&(this.encoding=o,this.initWorker())},setOptions:function(o){this.isRecording()?this.error("setOptions: cannot set options during recording"):(r(this.options,o),this.worker.postMessage({command:"options",options:this.options}))},startRecording:function(){if(this.isRecording())this.error("startRecording: previous recording is running");else{var o=this.numChannels,n=this.buffer,e=this.worker;this.processor=this.context.createScriptProcessor(this.options.bufferSize,this.numChannels,this.numChannels),this.input.connect(this.processor),this.processor.connect(this.context.destination),this.processor.onaudioprocess=function(i){for(var t=0;t<o;++t)n[t]=i.inputBuffer.getChannelData(t);e.postMessage({command:"record",buffer:n})},this.worker.postMessage({command:"start",bufferSize:this.processor.bufferSize}),this.startTime=Date.now()}},recordingTime:function(){return this.isRecording()?.001*(Date.now()-this.startTime):null},cancelRecording:function(){this.isRecording()?(this.input.disconnect(),this.processor.disconnect(),delete this.processor,this.worker.postMessage({command:"cancel"})):this.error("cancelRecording: no recording is running")},finishRecording:function(){this.isRecording()?(this.input.disconnect(),this.processor.disconnect(),delete this.processor,this.worker.postMessage({command:"finish"})):this.error("finishRecording: no recording is running")},cancelEncoding:function(){this.options.encodeAfterRecord?this.isRecording()?this.error("cancelEncoding: recording is not finished"):(this.onEncodingCanceled(this),this.initWorker()):this.error("cancelEncoding: invalid method call")},initWorker:function(){null!=this.worker&&this.worker.terminate(),this.onEncoderLoading(this,this.encoding),this.worker=new Worker(this.workerDir+s[this.encoding]);var o=this;this.worker.onmessage=function(n){var e=n.data;switch(e.command){case"loaded":o.onEncoderLoaded(o,o.encoding);break;case"timeout":o.onTimeout(o);break;case"progress":o.onEncodingProgress(o,e.progress);break;case"complete":o.onComplete(o,e.blob);break;case"error":o.error(e.message)}},this.worker.postMessage({command:"init",config:{sampleRate:this.context.sampleRate,numChannels:this.numChannels},options:this.options})},error:function(o){this.onError(this,"WebAudioRecorder.min.js:"+o)},onEncoderLoading:function(o,n){},onEncoderLoaded:function(o,n){},onTimeout:function(o){o.finishRecording()},onEncodingProgress:function(o,n){},onEncodingCanceled:function(o){},onComplete:function(o,n){o.onError(o,"WebAudioRecorder.min.js: You must override .onComplete event")},onError:function(o,n){console.log(n)}}),t.WebAudioRecorder=a}}]);